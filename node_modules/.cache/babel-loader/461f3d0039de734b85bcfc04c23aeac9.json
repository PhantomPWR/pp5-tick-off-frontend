{"ast":null,"code":"var _jsxFileName = \"/workspace/pp5-tick-off-frontend/src/contexts/ProfileDataContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport { axiosReq } from \"../api/axiosDefaults\";\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\n\n// Context objects\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileDataContext = /*#__PURE__*/createContext();\nconst SetProfileDataContext = /*#__PURE__*/createContext();\n\n// Custom hooks\nexport const useProfileData = () => {\n  _s();\n  return useContext(ProfileDataContext);\n};\n_s(useProfileData, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const useSetProfileData = () => {\n  _s2();\n  return useContext(SetProfileDataContext);\n};\n_s2(useSetProfileData, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const ProfileDataProvider = _ref => {\n  _s3();\n  let {\n    children\n  } = _ref;\n  const [profileData, setProfileData] = useState({\n    pageProfile: {\n      results: []\n    },\n    listProfiles: {\n      results: []\n    }\n  });\n  const currentUser = useCurrentUser();\n\n  /*\n    Makes API request to the /profiles/ endpoint\n    Sends profile information\n    Updates profile page and listProfiles data\n  */\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        const {\n          data\n        } = await axiosReq.get(\"/profiles/?ordering=-task_count\");\n        setProfileData(prevState => ({\n          ...prevState,\n          listProfiles: data\n        }));\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    handleMount();\n  }, [currentUser]);\n  return /*#__PURE__*/_jsxDEV(ProfileDataContext.Provider, {\n    value: profileData,\n    children: /*#__PURE__*/_jsxDEV(SetProfileDataContext.Provider, {\n      value: {\n        setProfileData\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s3(ProfileDataProvider, \"pGvmpnaVA0Yws56xMZW8uAayITk=\", false, function () {\n  return [useCurrentUser];\n});\n_c = ProfileDataProvider;\nvar _c;\n$RefreshReg$(_c, \"ProfileDataProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","axiosReq","useCurrentUser","jsxDEV","_jsxDEV","ProfileDataContext","SetProfileDataContext","useProfileData","_s","useSetProfileData","_s2","ProfileDataProvider","_ref","_s3","children","profileData","setProfileData","pageProfile","results","listProfiles","currentUser","handleMount","data","get","prevState","err","console","log","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/workspace/pp5-tick-off-frontend/src/contexts/ProfileDataContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\nimport { axiosReq } from \"../api/axiosDefaults\";\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\n\n// Context objects\nconst ProfileDataContext = createContext();\nconst SetProfileDataContext = createContext();\n\n// Custom hooks\nexport const useProfileData = () => useContext(ProfileDataContext);\nexport const useSetProfileData = () => useContext(SetProfileDataContext);\n\nexport const ProfileDataProvider = ({ children }) => {\n  const [profileData, setProfileData] = useState({\n    pageProfile: { results: [] },\n    listProfiles: { results: [] },\n  });\n\n  const currentUser = useCurrentUser();\n\n  /*\n    Makes API request to the /profiles/ endpoint\n    Sends profile information\n    Updates profile page and listProfiles data\n  */\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        const { data } = await axiosReq.get(\n          \"/profiles/?ordering=-task_count\"\n        );\n        setProfileData((prevState) => ({\n          ...prevState,\n          listProfiles: data,\n        }));\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    handleMount();\n\n  }, [currentUser]);\n\n  return (\n    <ProfileDataContext.Provider value={profileData}>\n      <SetProfileDataContext.Provider value={{setProfileData}}>\n        {children}\n      </SetProfileDataContext.Provider>\n    </ProfileDataContext.Provider>\n  );\n};"],"mappings":";;;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACtE,SAASC,QAAQ,QAAQ,sBAAsB;AAC/C,SAASC,cAAc,QAAQ,gCAAgC;;AAE/D;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,kBAAkB,gBAAGR,aAAa,CAAC,CAAC;AAC1C,MAAMS,qBAAqB,gBAAGT,aAAa,CAAC,CAAC;;AAE7C;AACA,OAAO,MAAMU,cAAc,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMV,UAAU,CAACO,kBAAkB,CAAC;AAAA;AAACG,EAAA,CAAtDD,cAAc;AAC3B,OAAO,MAAME,iBAAiB,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMZ,UAAU,CAACQ,qBAAqB,CAAC;AAAA;AAACI,GAAA,CAA5DD,iBAAiB;AAE9B,OAAO,MAAME,mBAAmB,GAAGC,IAAA,IAAkB;EAAAC,GAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAC9C,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC;IAC7CiB,WAAW,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAC;IAC5BC,YAAY,EAAE;MAAED,OAAO,EAAE;IAAG;EAC9B,CAAC,CAAC;EAEF,MAAME,WAAW,GAAGlB,cAAc,CAAC,CAAC;;EAEpC;AACF;AACA;AACA;AACA;EACEH,SAAS,CAAC,MAAM;IACd,MAAMsB,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMrB,QAAQ,CAACsB,GAAG,CACjC,iCACF,CAAC;QACDP,cAAc,CAAEQ,SAAS,KAAM;UAC7B,GAAGA,SAAS;UACZL,YAAY,EAAEG;QAChB,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,OAAOG,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;IACF,CAAC;IAEDJ,WAAW,CAAC,CAAC;EAEf,CAAC,EAAE,CAACD,WAAW,CAAC,CAAC;EAEjB,oBACEhB,OAAA,CAACC,kBAAkB,CAACuB,QAAQ;IAACC,KAAK,EAAEd,WAAY;IAAAD,QAAA,eAC9CV,OAAA,CAACE,qBAAqB,CAACsB,QAAQ;MAACC,KAAK,EAAE;QAACb;MAAc,CAAE;MAAAF,QAAA,EACrDA;IAAQ;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACqB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAElC,CAAC;AAACpB,GAAA,CAvCWF,mBAAmB;EAAA,QAMVT,cAAc;AAAA;AAAAgC,EAAA,GANvBvB,mBAAmB;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}